# 微信小程序学习项目

### 工欲善其事，必先利其器

虽然在实习期间开发过别的小程序，但是发现微信小程序和其他小程序还是有很大的不同点，所以先过一下微信小程序的文档和基础，方便后续的项目开发

## 项目结构

1. pages/ 用来存放页面，这点基本都一样
2. app.js 入口文件
3. app.json 小程序项目全局配制文件
4. app.wxss 全局样式文件
5. project.config.json 项目配制文件
6. sitemap.json 配制小程序及其页面是否允许被微信检索，这个是新事物

## 页面组成

1. .js 脚本文件，大同小异，重点是里面的方法
2. .json 页面配制文件
    - 不同级别的`json`文件可以进行不同级别的`json`配制

    - 小程序里面的4种 `json` 配制文件
        1. app.json 项目全局配制文件
            - 包括了小程序的所有页面路径，窗口外观，界面表现,底bar 等
            - pages 页面路径
            - window 定义小程序全局页面背景色、文字颜色等
            - style 定义全局使用的样式版本
            - sitemapLocation 声明 sitemap 的文件位置
            - 快速创建一个页面只需要在 app.json 里面直接添加对应得到 path 即可

        2. project.config.json
            - 用于记录小程序的个性化配制
            - 比如 setting 里面包含了编译相关的配制

        3. sitemap.json 用于配制小程序和里面页面使用可被微信搜索检索
            - rules 页面索引规则
                - action allow 允许索引， disallow 拒绝索引
                - pages 索引的页面，`*`表示所有

        4. 页面级别 .json,配制页面的一些基础配制，如使用的组件等
            - 和 app.json 作用相似，但是只作用于当前页面，优先级大于 app.json
            - window 的属性声明直接写即可，无需写在 `window` 内

3. .wxml 页面模板结构
    - wxml 和 HTML 的区别
        1. 标签名称不同
        2. 属性节点不同
        3. wxml 提供了类似 vue 的模板语法
            - 数据绑定、条件渲染等等
4. .wxss 当前页面的样式
    - wxss 和 css 的区别
        1. 新增 rpx
            - css 中需要自己去换算 rem 进行屏幕适应，但是 wxss 中 rpx 会自己进行适应
        2. 提供全局样式和局部样式
        3. 只支持部分的 css 样式选择器

## 组件
### 1. 组件的分类

小程序中组件是由宿主环境提供的，大致分位9大类，主要使用前面4种

1. 视图组件
    - view 视图
    - scroll-view 可滚动视图组件
    - swiper\swiper-item 走马灯
2. 基础内容
    - 常见基础内容组件
        1. text
            - 文本组件，类似于span
            - 小程序中只有 text 组价支持长按选中,使用 selectable 属性实现长按选中 
        2. rich-text
            - 富文本组件
            - 支持把 HTML 内容渲染为 HTML
3. 表单组件
4. 导航组件
5. 媒体组价
6. map 地图组件
7. canvers 画布组件
8. 开放能力
9. 无障碍

## 小程序的3类 API
1. 事件就监听 API
    - 以 on 开头，用于监听某些特定的事件
2. 同步 API
    - 以 Sync 结尾的 API 都是同步 API
    - 特点：执行结果可以立即获取
3. 异步 API
    - 类似于 ajax
    - 通过回调得到 success、fail 等进行接受结果
    - 小程序异步需要使用 wx.request 进行请求，可以自己实现函数封装